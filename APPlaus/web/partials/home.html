<div ng-swipe-left="changeView('contests')" ng-swipe-right="changeView('registerAssignment')">
    <!--Carousel--
    <div ng-swipe-right="prevSlide()">
        <div style="height: 150px">
            <carousel interval="slideInterval">
                <slide ng-repeat="slide in slides" active="slide.active">
                    <div style="height:150px;">
                        <div class="carousel-caption">
                            <h5>{{slide.text}}</h5>
                            <h1>{{slide.points}}</h1>
                        </div>
                    </div>
                </slide>
            </carousel>
        </div>
    </div>
    <!--Carousel end-->

    <div class="container">
        <div class="red">
            {{genError}}
        </div>
        <!--Goal-->
        <div class="col-sm-4">
            <div class="text-center">
                <h2>Mål</h2>
                <p>
                    <span ng-show="goalLast < 0">
                        Sett deg et mål for uka og se om du når målet ditt!
                    </span>
                    <span ng-show="goalLast > 0">
                        <span ng-show="lastWeek >= goalLast">
                            Du nådde målet ditt forrige uke!
                        </span>
                        <span ng-show="lastWeek < goalLast">
                            Du nådde ikke målet ditt forrige uke. Prøv igjen denne uka!
                        </span>
                    </span>
                </p>
                <div class="drop" ng-init="dropGoal = false">
                    <div class="dropHeading">
                        <a class="glyphicon" ng-class="{'glyphicon-chevron-down': dropGoal, 'glyphicon-chevron-right': !dropGoal}"></a>
                        <a class="text-center" ng-click="dropGoal = !dropGoal">
                            <span class="clickableDiv"></span>
                            <span ng-show="goal > 0">
                                Mitt mål er {{goal}} poeng
                            </span>
                            <span ng-show="goal <= 0">
                                Sett deg et mål!
                            </span>
                        </a>
                    </div>
                    <div class="innerDrop" ng-show="dropGoal">
                        <div ng-show="goal === - 1">
                            <p>
                                Hvor mange poeng klarer du denne uka?
                            </p>
                            <form name="goalForm">
                                <p>
                                    <input name="points" ng-model="goalToSet" type="number" class="form-control" placeholder="Poeng" ng-class="{red:(goalForm.points.$error.required || goalForm.points.$error.min) && goalForm.points.$dirty, green:!(goalForm.points.$error.required || goalForm.points.$error.min) && goalForm.points.$dirty}" ng-model="newCont.points" min="1" required="true">
                                </p>
                                <p>
                                    <button ng-click="setGoal(goalToSet)" class="form-control" ng-disabled="goalForm.$invalid">Legg til</button>
                                </p>
                            </form>
                            <div class="red">
                                {{setGoalErr}}
                            </div>
                        </div>
                        <div ng-show="goal > 0">
                            <p>
                                Progress:
                            </p>
                            <!--progress bar-->
                            <div class="progress progress-striped">
                                <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{progress}}%">
                                </div>
                            </div>
                            <!-- end progress bar-->
                            <p>
                                Du har tatt {{week}} poeng
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <br>
        </div>
        <!--Goal end-->

        <!--Ideabank-->
        <div class="col-sm-4">
            <div class="text-center">
                <h2>Idebank</h2>
                <p>Har du en ide? Ikke nøl med å registrere den i banken</p>
                <div class="drop" ng-init="dropIdea = false">
                    <div class="dropHeading text-center">
                        <a class="glyphicon" ng-click="dropIdea = !dropIdea" ng-class="{'glyphicon-chevron-down': dropIdea, 'glyphicon-chevron-right': !dropIdea}"></a>
                        <a ng-click="dropIdea = !dropIdea">Legg til en ide
                            <span class="clickableDiv"></span>
                        </a>
                    </div>
                    <div class="innerDrop" ng-show="dropIdea">
                        <form name="ideabankForm">
                            <p>
                                <input name="ideaTitle" type="text"  ng-model="title" class="form-control" placeholder="Tittel" required="true" ng-class="{red:ideabankForm.ideaTitle.$error.required && ideabankForm.ideaTitle.$dirty, green:!ideabankForm.ideaTitle.$error.required && ideabankForm.ideaTitle.$dirty}">
                            </p>
                            <p>
                                <textarea name="ideaText" class="form-control"  ng-model="text" placeholder="Tekst" required="true" ng-class="{red:ideabankForm.ideaText.$error.required && ideabankForm.ideaText.$dirty, green:!ideabankForm.ideaText.$error.required && ideabankForm.ideaText.$dirty}"></textarea>
                            </p>
                            <p>
                                <button class="form-control" ng-click="addIdea(title, text)" ng-disabled="ideabankForm.$invalid">Legg til</button>
                            </p>
                            <div class="red">
                                {{ideaErr}}
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <br>
        </div>
        <!--Ideabank end-->

        <!--Admin liste-->
        <div class="col-sm-4">
            <div>
                <div class="text-center">
                    <h2>Ett eller annet</h2>
                    <p>Her er en tekst som er ca like lang som de andre</p>
                </div>
                <div class="drop" ng-init="dropdown = false">
                    <div class="dropHeading text-center">
                        <a class="glyphicon" ng-class="{'glyphicon-chevron-down': dropdown, 'glyphicon-chevron-right': !dropdown}"></a>
                        <a ng-click="dropdown = !dropdown">Se noe
                            <span class="clickableDiv"></span>
                        </a>
                    </div>
                    <div class="innerDrop" ng-show="dropdown">

                        <input class="form-control" ng-model="filt" placeholder="Søk"/><br/><br/>
                        <table style="font: 14px 'Proxima Nova Regular','Helvetica Neue',Arial,sans-serif;" class="table table-striped table-bordered table-condensed table-hover">
                            <thead>
                                <tr>
                                    <th>Navn</th>
                                    <th>Admin</th>
                                </tr>
                            </thead>
                            <tbody ng-repeat="admin in (adminList| filter:filt | orderBy: 'firstname':true | limitTo: 10)">
                                <tr>
                                    <td>{{admin.firstname}} {{admin.lastname}}</td>
                                    <td><input  ng-checked="admin.role_id == 1 || admin.role_id == 2" ng-disabled="admin.role_id == 1" ng-click="setRole(admin.username, admin.role_id)" type="checkbox"/></td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>

            </div>
            <br>
        </div>
        <!--Admin liste end-->
    </div>

    <!--News-->
    <div class="container">
        <h2 class="text-center">Nyheter</h2>
        <div class="drop" ng-init="dropNewStory = false">
            <div class="dropHeading">
                <a class="glyphicon" ng-class="{'glyphicon-chevron-down': dropNewStory, 'glyphicon-chevron-right': !dropNewStory}"></a>
                <a class="text-center" ng-click="dropNewStory = !dropNewStory">Ny nyhet
                    <span class="clickableDiv"></span>
                </a> 
            </div>
            <div class="innerDrop" ng-show="dropNewStory">
                <form name="addNewsForm">
                    <p>
                        <input name="newsTitle" type="text" class="form-control" ng-model="story.title" placeholder="Tittel" required="true" ng-class="{red:addNewsForm.newsTitle.$error.required && addNewsForm.newsTitle.$dirty, green:!addNewsForm.newsTitle.$error.required && addNewsForm.newsTitle.$dirty}">
                    </p>
                    <p>
                        <textarea name="newsText" class="form-control" ng-model="story.text" placeholder="Tekst" required="true" ng-class="{red:addNewsForm.newsText.$error.required && addNewsForm.newsText.$dirty, green:!addNewsForm.newsText.$error.required && addNewsForm.newsText.$dirty}"></textarea>
                    </p>
                    <p>
                        <button class="form-control" ng-click="addNewsAll(story)" ng-disabled="addNewsForm.$invalid">Legg til</button>
                    </p>
                    <div class="red">
                        {{addNewsErr}}
                    </div>
                </form>
            </div>
        </div>

        <div class="drop" ng-init="dropNews = false" ng-repeat="article in news">
            <div class="dropHeading">
                <a class="glyphicon" ng-class="{'glyphicon-chevron-down': dropNews, 'glyphicon-chevron-right': !dropNews}"></a>
                <a class="text-center" ng-click="dropNews = !dropNews">{{article.date.$date| date:('dd.MM')}} - {{article.title}}
                    <span class="clickableDiv"></span>
                </a> 
            </div>
            <div class="innerDrop" ng-show="dropNews">
                <p>
                    Postet av: {{article.writer}}
                </p>
                <p>
                    {{article.text}}
                </p>
            </div>
        </div>
        <br>
        <a type="button" class="form-control" ng-click="getNews()">Last flere</a>
    </div>
    <br>
    <!--News end-->

</div>
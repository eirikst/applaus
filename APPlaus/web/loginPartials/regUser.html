<div class="container container-512">

    <!--reg form-->
    <form name="registerUserForm">
        <h4 class="text-center">Register user</h4>
        <p>
            <input ng-model="user.usr" name="usr" class="form-control form-control-custom form-control-big" type="text" placeholder="Username"  required="true" ng-class="{red:registerUserForm.usr.$error.required && registerUserForm.usr.$dirty, green:!registerUserForm.usr.$error.required && registerUserForm.usr.$dirty}">
        </p>
        <p>
            <input ng-model="user.pwd" name="pwd" class="form-control form-control-custom form-control-big" type="password" placeholder="Password" required="true" ng-class="{red:registerUserForm.pwd.$error.required && registerUserForm.pwd.$dirty, green:!registerUserForm.pwd.$error.required && registerUserForm.pwd.$dirty}">
        </p>
        <p>
            <input ng-model="user.pwdRepeat" name="pwdRepeat" class="form-control form-control-custom form-control-big" type="Password" placeholder="Repeat password" required="true" ng-class="{red:(registerUserForm.pwdRepeat.$error.required || user.pwd !== user.pwdRepeat) && registerUserForm.pwdRepeat.$dirty, green:!registerUserForm.pwdRepeat.$error.required && registerUserForm.pwdRepeat.$dirty && user.pwd === user.pwdRepeat}">
        </p>
        <p ng-show="user.pwd !== user.pwdRepeat && registerUserForm.pwdRepeat.$dirty">
            <span class="redMsg">
                Please provide matching passwords.
            </span>
        </p>
        <p>
            <input ng-model="user.fname" name="fname" class="form-control form-control-custom form-control-big" type="text" placeholder="First name" required="true" ng-class="{red:registerUserForm.fname.$error.required && registerUserForm.fname.$dirty, green:!registerUserForm.fname.$error.required && registerUserForm.fname.$dirty}">
        </p>
        <p>
            <input ng-model="user.lname" name="lname" class="form-control form-control-custom form-control-big" type="text" placeholder="Last name" required="true" ng-class="{red:registerUserForm.lname.$error.required && registerUserForm.lname.$dirty, green:!registerUserForm.lname.$error.required && registerUserForm.lname.$dirty}">
        </p>
        <p>
            <input ng-model="user.email" name="email" class="form-control form-control-custom form-control-big" type="email" placeholder="email" required="true" ng-class="{red:(registerUserForm.email.$error.required || registerUserForm.email.$error.email) && registerUserForm.email.$dirty, green:!registerUserForm.email.$error.required && !registerUserForm.email.$error.email && registerUserForm.email.$dirty}">
        </p>

        <p>
            <select class="form-control" 
                     ng-options="selSection.name for selSection in sections" ng-model="selSection">
            </select>
        </p>
        <p>
            <button class="form-control form-control-custom form-control-big" ng-click="registerUser(user, selSection._id.$oid)" ng-disabled="registerUserForm.$invalid">Register</button>
        </p>
    </form>
    <span class="greenMsg">
        {{msg}}
    </span>
    <span class="redMsg">
        {{errMsg}}
    </span>
    <!--end reg form-->

    <p>
        <a class="stdLink" href="#login">To login</a>
    </p>
</div>